<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>구독 신청 페이지</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="/style.css">
  <script src="/script.js" defer></script>
</head>
<body>
<!-- 돌아가기 화살표 -->
<a href="/" class="back-arrow"><i class="fa fa-arrow-left"></i></a>

<div class="container">
  <h1>구독 신청</h1>
  <!-- 현재 구독자 수와 제한 안내 -->
  <div class="subscriber-count">
    <p>
      현재 구독자 수:
      <span th:text="${subscriberCount}"></span>명
      <br/>
      최대 500명까지 구독이 가능합니다.
    </p>
  </div>
  <form onsubmit="handleSubscriptionRequest(event);">
    <input type="email" id="subscribeEmail" name="email" placeholder="이메일 입력" required>
    <button type="submit"><i class="fa fa-paper-plane"></i> 구독 신청</button>
  </form>

  <div id="subscriptionTokenSection" class="hidden">
    <form onsubmit="handleVerifySubscription(event);">
      <input type="text" id="subscribeToken" name="token" placeholder="인증 번호 입력" required>
      <button type="submit"><i class="fa fa-check-circle"></i> 인증 완료</button>
    </form>
  </div>
  <div id="subscriptionMessage" class="message"></div>
</div>
</body>
</html>
